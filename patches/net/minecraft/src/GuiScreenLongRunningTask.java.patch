--- a/net/minecraft/src/GuiScreenLongRunningTask.java
+++ b/net/minecraft/src/GuiScreenLongRunningTask.java
@@ -6,37 +6,29 @@
 public class GuiScreenLongRunningTask extends GuiScreen
 {
     private final int field_96213_b = 666;
-    private final GuiScreen previousScreen;
-    private final Thread taskThread;
-    private volatile String message = "";
-    private volatile boolean taskFailed;
-    private volatile String failedMessage;
-
-    /**
-     * Set to true when back button is clicked, or any other button with ID 666
-     */
-    private volatile boolean screenWasClosed;
-
-    /** Incremented every tick, used to display progress indicator. */
-    private int progressCounter;
-
-    /** The long running task this GUI is showing the progress of. */
-    private TaskLongRunning task;
-    public static final String[] PROGRESS_TEXT = new String[] {"\u00e2\u2013\u0192 \u00e2\u2013\u201e \u00e2\u2013\u2026 \u00e2\u2013\u2020 \u00e2\u2013\u2021 \u00e2\u2013\u02c6 \u00e2\u2013\u2021 \u00e2\u2013\u2020 \u00e2\u2013\u2026 \u00e2\u2013\u201e \u00e2\u2013\u0192", "_ \u00e2\u2013\u0192 \u00e2\u2013\u201e \u00e2\u2013\u2026 \u00e2\u2013\u2020 \u00e2\u2013\u2021 \u00e2\u2013\u02c6 \u00e2\u2013\u2021 \u00e2\u2013\u2020 \u00e2\u2013\u2026 \u00e2\u2013\u201e", "_ _ \u00e2\u2013\u0192 \u00e2\u2013\u201e \u00e2\u2013\u2026 \u00e2\u2013\u2020 \u00e2\u2013\u2021 \u00e2\u2013\u02c6 \u00e2\u2013\u2021 \u00e2\u2013\u2020 \u00e2\u2013\u2026", "_ _ _ \u00e2\u2013\u0192 \u00e2\u2013\u201e \u00e2\u2013\u2026 \u00e2\u2013\u2020 \u00e2\u2013\u2021 \u00e2\u2013\u02c6 \u00e2\u2013\u2021 \u00e2\u2013\u2020", "_ _ _ _ \u00e2\u2013\u0192 \u00e2\u2013\u201e \u00e2\u2013\u2026 \u00e2\u2013\u2020 \u00e2\u2013\u2021 \u00e2\u2013\u02c6 \u00e2\u2013\u2021", "_ _ _ _ _ \u00e2\u2013\u0192 \u00e2\u2013\u201e \u00e2\u2013\u2026 \u00e2\u2013\u2020 \u00e2\u2013\u2021 \u00e2\u2013\u02c6", "_ _ _ _ \u00e2\u2013\u0192 \u00e2\u2013\u201e \u00e2\u2013\u2026 \u00e2\u2013\u2020 \u00e2\u2013\u2021 \u00e2\u2013\u02c6 \u00e2\u2013\u2021", "_ _ _ \u00e2\u2013\u0192 \u00e2\u2013\u201e \u00e2\u2013\u2026 \u00e2\u2013\u2020 \u00e2\u2013\u2021 \u00e2\u2013\u02c6 \u00e2\u2013\u2021 \u00e2\u2013\u2020", "_ _ \u00e2\u2013\u0192 \u00e2\u2013\u201e \u00e2\u2013\u2026 \u00e2\u2013\u2020 \u00e2\u2013\u2021 \u00e2\u2013\u02c6 \u00e2\u2013\u2021 \u00e2\u2013\u2020 \u00e2\u2013\u2026", "_ \u00e2\u2013\u0192 \u00e2\u2013\u201e \u00e2\u2013\u2026 \u00e2\u2013\u2020 \u00e2\u2013\u2021 \u00e2\u2013\u02c6 \u00e2\u2013\u2021 \u00e2\u2013\u2020 \u00e2\u2013\u2026 \u00e2\u2013\u201e", "\u00e2\u2013\u0192 \u00e2\u2013\u201e \u00e2\u2013\u2026 \u00e2\u2013\u2020 \u00e2\u2013\u2021 \u00e2\u2013\u02c6 \u00e2\u2013\u2021 \u00e2\u2013\u2020 \u00e2\u2013\u2026 \u00e2\u2013\u201e \u00e2\u2013\u0192", "\u00e2\u2013\u201e \u00e2\u2013\u2026 \u00e2\u2013\u2020 \u00e2\u2013\u2021 \u00e2\u2013\u02c6 \u00e2\u2013\u2021 \u00e2\u2013\u2020 \u00e2\u2013\u2026 \u00e2\u2013\u201e \u00e2\u2013\u0192 _", "\u00e2\u2013\u2026 \u00e2\u2013\u2020 \u00e2\u2013\u2021 \u00e2\u2013\u02c6 \u00e2\u2013\u2021 \u00e2\u2013\u2020 \u00e2\u2013\u2026 \u00e2\u2013\u201e \u00e2\u2013\u0192 _ _", "\u00e2\u2013\u2020 \u00e2\u2013\u2021 \u00e2\u2013\u02c6 \u00e2\u2013\u2021 \u00e2\u2013\u2020 \u00e2\u2013\u2026 \u00e2\u2013\u201e \u00e2\u2013\u0192 _ _ _", "\u00e2\u2013\u2021 \u00e2\u2013\u02c6 \u00e2\u2013\u2021 \u00e2\u2013\u2020 \u00e2\u2013\u2026 \u00e2\u2013\u201e \u00e2\u2013\u0192 _ _ _ _", "\u00e2\u2013\u02c6 \u00e2\u2013\u2021 \u00e2\u2013\u2020 \u00e2\u2013\u2026 \u00e2\u2013\u201e \u00e2\u2013\u0192 _ _ _ _ _", "\u00e2\u2013\u2021 \u00e2\u2013\u02c6 \u00e2\u2013\u2021 \u00e2\u2013\u2020 \u00e2\u2013\u2026 \u00e2\u2013\u201e \u00e2\u2013\u0192 _ _ _ _", "\u00e2\u2013\u2020 \u00e2\u2013\u2021 \u00e2\u2013\u02c6 \u00e2\u2013\u2021 \u00e2\u2013\u2020 \u00e2\u2013\u2026 \u00e2\u2013\u201e \u00e2\u2013\u0192 _ _ _", "\u00e2\u2013\u2026 \u00e2\u2013\u2020 \u00e2\u2013\u2021 \u00e2\u2013\u02c6 \u00e2\u2013\u2021 \u00e2\u2013\u2020 \u00e2\u2013\u2026 \u00e2\u2013\u201e \u00e2\u2013\u0192 _ _", "\u00e2\u2013\u201e \u00e2\u2013\u2026 \u00e2\u2013\u2020 \u00e2\u2013\u2021 \u00e2\u2013\u02c6 \u00e2\u2013\u2021 \u00e2\u2013\u2020 \u00e2\u2013\u2026 \u00e2\u2013\u201e \u00e2\u2013\u0192 _"};
+    private final GuiScreen field_96215_c;
+    private final Thread field_98118_d;
+    private volatile String field_96212_d = "";
+    private volatile boolean field_96219_n;
+    private volatile String field_96220_o;
+    private volatile boolean field_96218_p;
+    private int field_96216_q;
+    private TaskLongRunning field_96214_r;
+    public static final String[] field_96217_a = new String[] {"\u201a\u00f1\u00c9 \u201a\u00f1\u00d1 \u201a\u00f1\u00d6 \u201a\u00f1\u00dc \u201a\u00f1\u00e1 \u201a\u00f1\u00e0 \u201a\u00f1\u00e1 \u201a\u00f1\u00dc \u201a\u00f1\u00d6 \u201a\u00f1\u00d1 \u201a\u00f1\u00c9", "_ \u201a\u00f1\u00c9 \u201a\u00f1\u00d1 \u201a\u00f1\u00d6 \u201a\u00f1\u00dc \u201a\u00f1\u00e1 \u201a\u00f1\u00e0 \u201a\u00f1\u00e1 \u201a\u00f1\u00dc \u201a\u00f1\u00d6 \u201a\u00f1\u00d1", "_ _ \u201a\u00f1\u00c9 \u201a\u00f1\u00d1 \u201a\u00f1\u00d6 \u201a\u00f1\u00dc \u201a\u00f1\u00e1 \u201a\u00f1\u00e0 \u201a\u00f1\u00e1 \u201a\u00f1\u00dc \u201a\u00f1\u00d6", "_ _ _ \u201a\u00f1\u00c9 \u201a\u00f1\u00d1 \u201a\u00f1\u00d6 \u201a\u00f1\u00dc \u201a\u00f1\u00e1 \u201a\u00f1\u00e0 \u201a\u00f1\u00e1 \u201a\u00f1\u00dc", "_ _ _ _ \u201a\u00f1\u00c9 \u201a\u00f1\u00d1 \u201a\u00f1\u00d6 \u201a\u00f1\u00dc \u201a\u00f1\u00e1 \u201a\u00f1\u00e0 \u201a\u00f1\u00e1", "_ _ _ _ _ \u201a\u00f1\u00c9 \u201a\u00f1\u00d1 \u201a\u00f1\u00d6 \u201a\u00f1\u00dc \u201a\u00f1\u00e1 \u201a\u00f1\u00e0", "_ _ _ _ \u201a\u00f1\u00c9 \u201a\u00f1\u00d1 \u201a\u00f1\u00d6 \u201a\u00f1\u00dc \u201a\u00f1\u00e1 \u201a\u00f1\u00e0 \u201a\u00f1\u00e1", "_ _ _ \u201a\u00f1\u00c9 \u201a\u00f1\u00d1 \u201a\u00f1\u00d6 \u201a\u00f1\u00dc \u201a\u00f1\u00e1 \u201a\u00f1\u00e0 \u201a\u00f1\u00e1 \u201a\u00f1\u00dc", "_ _ \u201a\u00f1\u00c9 \u201a\u00f1\u00d1 \u201a\u00f1\u00d6 \u201a\u00f1\u00dc \u201a\u00f1\u00e1 \u201a\u00f1\u00e0 \u201a\u00f1\u00e1 \u201a\u00f1\u00dc \u201a\u00f1\u00d6", "_ \u201a\u00f1\u00c9 \u201a\u00f1\u00d1 \u201a\u00f1\u00d6 \u201a\u00f1\u00dc \u201a\u00f1\u00e1 \u201a\u00f1\u00e0 \u201a\u00f1\u00e1 \u201a\u00f1\u00dc \u201a\u00f1\u00d6 \u201a\u00f1\u00d1", "\u201a\u00f1\u00c9 \u201a\u00f1\u00d1 \u201a\u00f1\u00d6 \u201a\u00f1\u00dc \u201a\u00f1\u00e1 \u201a\u00f1\u00e0 \u201a\u00f1\u00e1 \u201a\u00f1\u00dc \u201a\u00f1\u00d6 \u201a\u00f1\u00d1 \u201a\u00f1\u00c9", "\u201a\u00f1\u00d1 \u201a\u00f1\u00d6 \u201a\u00f1\u00dc \u201a\u00f1\u00e1 \u201a\u00f1\u00e0 \u201a\u00f1\u00e1 \u201a\u00f1\u00dc \u201a\u00f1\u00d6 \u201a\u00f1\u00d1 \u201a\u00f1\u00c9 _", "\u201a\u00f1\u00d6 \u201a\u00f1\u00dc \u201a\u00f1\u00e1 \u201a\u00f1\u00e0 \u201a\u00f1\u00e1 \u201a\u00f1\u00dc \u201a\u00f1\u00d6 \u201a\u00f1\u00d1 \u201a\u00f1\u00c9 _ _", "\u201a\u00f1\u00dc \u201a\u00f1\u00e1 \u201a\u00f1\u00e0 \u201a\u00f1\u00e1 \u201a\u00f1\u00dc \u201a\u00f1\u00d6 \u201a\u00f1\u00d1 \u201a\u00f1\u00c9 _ _ _", "\u201a\u00f1\u00e1 \u201a\u00f1\u00e0 \u201a\u00f1\u00e1 \u201a\u00f1\u00dc \u201a\u00f1\u00d6 \u201a\u00f1\u00d1 \u201a\u00f1\u00c9 _ _ _ _", "\u201a\u00f1\u00e0 \u201a\u00f1\u00e1 \u201a\u00f1\u00dc \u201a\u00f1\u00d6 \u201a\u00f1\u00d1 \u201a\u00f1\u00c9 _ _ _ _ _", "\u201a\u00f1\u00e1 \u201a\u00f1\u00e0 \u201a\u00f1\u00e1 \u201a\u00f1\u00dc \u201a\u00f1\u00d6 \u201a\u00f1\u00d1 \u201a\u00f1\u00c9 _ _ _ _", "\u201a\u00f1\u00dc \u201a\u00f1\u00e1 \u201a\u00f1\u00e0 \u201a\u00f1\u00e1 \u201a\u00f1\u00dc \u201a\u00f1\u00d6 \u201a\u00f1\u00d1 \u201a\u00f1\u00c9 _ _ _", "\u201a\u00f1\u00d6 \u201a\u00f1\u00dc \u201a\u00f1\u00e1 \u201a\u00f1\u00e0 \u201a\u00f1\u00e1 \u201a\u00f1\u00dc \u201a\u00f1\u00d6 \u201a\u00f1\u00d1 \u201a\u00f1\u00c9 _ _", "\u201a\u00f1\u00d1 \u201a\u00f1\u00d6 \u201a\u00f1\u00dc \u201a\u00f1\u00e1 \u201a\u00f1\u00e0 \u201a\u00f1\u00e1 \u201a\u00f1\u00dc \u201a\u00f1\u00d6 \u201a\u00f1\u00d1 \u201a\u00f1\u00c9 _"};
 
     public GuiScreenLongRunningTask(Minecraft par1Minecraft, GuiScreen par2GuiScreen, TaskLongRunning par3TaskLongRunning)
     {
         super.buttonList = Collections.synchronizedList(new ArrayList());
         this.mc = par1Minecraft;
-        this.previousScreen = par2GuiScreen;
-        this.task = par3TaskLongRunning;
-        par3TaskLongRunning.setGUI(this);
-        this.taskThread = new Thread(par3TaskLongRunning);
+        this.field_96215_c = par2GuiScreen;
+        this.field_96214_r = par3TaskLongRunning;
+        par3TaskLongRunning.func_96574_a(this);
+        this.field_98118_d = new Thread(par3TaskLongRunning);
     }
 
     public void func_98117_g()
     {
-        this.taskThread.start();
+        this.field_98118_d.start();
     }
 
     /**
@@ -45,8 +37,8 @@
     public void updateScreen()
     {
         super.updateScreen();
-        ++this.progressCounter;
-        this.task.updateScreen();
+        ++this.field_96216_q;
+        this.field_96214_r.func_96573_a();
     }
 
     /**
@@ -59,7 +51,7 @@
      */
     public void initGui()
     {
-        this.task.initGUI();
+        this.field_96214_r.func_96571_d();
     }
 
     /**
@@ -69,11 +61,11 @@
     {
         if (par1GuiButton.id == 666)
         {
-            this.screenWasClosed = true;
-            this.mc.displayGuiScreen(this.previousScreen);
+            this.field_96218_p = true;
+            this.mc.displayGuiScreen(this.field_96215_c);
         }
 
-        this.task.buttonClicked(par1GuiButton);
+        this.field_96214_r.func_96572_a(par1GuiButton);
     }
 
     /**
@@ -82,26 +74,26 @@
     public void drawScreen(int par1, int par2, float par3)
     {
         this.drawDefaultBackground();
-        this.drawCenteredString(this.fontRenderer, this.message, this.width / 2, this.height / 2 - 50, 16777215);
+        this.drawCenteredString(this.fontRenderer, this.field_96212_d, this.width / 2, this.height / 2 - 50, 16777215);
         this.drawCenteredString(this.fontRenderer, "", this.width / 2, this.height / 2 - 10, 16777215);
 
-        if (!this.taskFailed)
+        if (!this.field_96219_n)
         {
-            this.drawCenteredString(this.fontRenderer, PROGRESS_TEXT[this.progressCounter % PROGRESS_TEXT.length], this.width / 2, this.height / 2 + 15, 8421504);
+            this.drawCenteredString(this.fontRenderer, field_96217_a[this.field_96216_q % field_96217_a.length], this.width / 2, this.height / 2 + 15, 8421504);
         }
 
-        if (this.taskFailed)
+        if (this.field_96219_n)
         {
-            this.drawCenteredString(this.fontRenderer, this.failedMessage, this.width / 2, this.height / 2 + 15, 16711680);
+            this.drawCenteredString(this.fontRenderer, this.field_96220_o, this.width / 2, this.height / 2 + 15, 16711680);
         }
 
         super.drawScreen(par1, par2, par3);
     }
 
-    public void setFailedMessage(String par1Str)
+    public void func_96209_a(String par1Str)
     {
-        this.taskFailed = true;
-        this.failedMessage = par1Str;
+        this.field_96219_n = true;
+        this.field_96220_o = par1Str;
         this.buttonList.clear();
         this.buttonList.add(new GuiButton(666, this.width / 2 - 100, this.height / 4 + 120 + 12, "Back"));
     }
@@ -111,16 +103,13 @@
         return this.mc;
     }
 
-    public void setMessage(String par1Str)
+    public void func_96210_b(String par1Str)
     {
-        this.message = par1Str;
+        this.field_96212_d = par1Str;
     }
 
-    /**
-     * Returns the value of screenWasClosed
-     */
-    public boolean wasScreenClosed()
+    public boolean func_96207_h()
     {
-        return this.screenWasClosed;
+        return this.field_96218_p;
     }
 }
